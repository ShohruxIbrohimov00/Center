{% extends 'base.html' %}
{% load static %}

{% block title %}Barcha Kurslar Ro'yxati{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 max-w-7xl">
    <h1 class="text-3xl font-extrabold text-slate-900 mb-6">Barcha O'quv Kurslari</h1>
    <p class="text-gray-600 mb-8">{{ CENTER_NAME }} platformasidagi barcha mavjud kurslar ro'yxati. Obuna orqali cheklanmagan kirishga ega bo'ling.</p>
    
    {# Obuna holati haqida ogohlantirish #}
    {% if not is_subscribed %}
    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-8 rounded-xl shadow-md">
        <div class="flex">
            <div class="flex-shrink-0">
                <i class="fas fa-exclamation-triangle text-yellow-500"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm font-medium text-yellow-800">
                    Sizda faol **obuna mavjud emas**. Barcha **Premium kurslarga** kirish, barcha dars va testlarni ochish uchun <a href="{% url 'price' center.slug %}" class="font-bold underline text-red-600 hover:text-red-700">obuna boâ€˜ling</a>.
                </p>
            </div>
        </div>
    </div>
    {% endif %}

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {% for course in all_courses %}
        {% include 'partials/course_card.html' with course=course %} 
        
        {% empty %}
        <div class="lg:col-span-3 text-center py-12 border border-gray-200 rounded-xl bg-gray-50 text-gray-500 shadow-inner">
            <i class="fas fa-box-open mb-3 text-2xl"></i>
            <p class="text-lg">Hozircha faol kurslar mavjud emas.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}